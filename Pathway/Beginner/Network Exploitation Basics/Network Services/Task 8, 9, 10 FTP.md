## FTP
A typical FTP session operates using two channels:
- A common channel
- A data channel

FTP operates using a client-server protocol. The client initiates a connection with the server, the server validates whatever login credentials are provided, and then opens the session.

Active vs Passive
- Active: The client opens a port and listens. The server is required to actively connect to it.
- Passive: The server opens a port and listens, and the client connects to it.
   
This separation of command information and data into separate channels is a way of being able to send commands to the server without having to wait for the current data transfer to finish. If both channels were interlinked, you could only enter commands between data transfers, which wouldn't be inefficient for large file transfers or slow internet connections.

Question: What communication model does FTP use?
Answer: client-server

Question: What's the standard port?
Answer: 21

Question: How many modes of FTP connection are there? 
Answer: 2


## Enumerating FTP
10.10.114.131
User: Anonymous
![image](https://github.com/Shawn-Nichol/TryHackMe/assets/30714313/7d978033-35c7-45d8-b10b-0b47219ca59a)


Question: How many ports are open on the target machine?
Answer

Question: What port is FTP running on?
Answer:

Question What variant of FTP is running on it?
Nmap -A </br>
![image](https://github.com/Shawn-Nichol/TryHackMe/assets/30714313/100b6aad-d569-4d07-a81b-2fa904122cae)

Answer: VSFTPd

What is the name of the file in the anonymous FTP directory?
ftp 10.10.114.131
user: Anonymous
password: none

View directory
```
dir
```

Answer: PUBLIC_NOTICE.txt

What do we think a possible username could be?
Download the file and read the file
```
get PUBLIC_NOTICE.txt
cat PUBLIC_NOTICE.txt
```

Answer: Mike

## Exploiting FTP

Hydra to brute force the password. 
Hydra -t 4 -l dale -P /usr/share/wordlists/rockyou.txt -vV 10.10.10.6 FTP

- Hydra runs the Hydra tool
- t 4 Number of parallel connections per target
- l [user] Points to the user whose account you're trying to compromise
- P [path to dictionary] Points to the file containing the list of possible passwords
- vV Sets the verbose mode to very verbose, shows the login+pass combination for each attempt
- [machine IP] TH address of the target machine.
- ftp/protocol Sets the protocol.

![image](https://github.com/Shawn-Nichol/TryHackMe/assets/30714313/1659805a-d8f9-457d-93bb-70313be76831)


Question: What is the password for the user Mike?
Answer: Password

Question: What is ftp.txt?
Connect to FTP, log in as mike, list dir, and get the ftp.txt file.
```
ftp 10.10.114.131
user: mike
Password: password
dir
get ftp.txt
```
Answer: THM{y0u_g0t_th3_ftp_fl4g}


